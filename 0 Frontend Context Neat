export const ProviderComposer = ({ children, pathname }: ProviderComposerProps) => {
  // Find the first provider group that matches the current pathname
  const matchedProviders = providers.find(({ condition }) => condition(pathname))?.providers;

  // If a match is found, wrap children with the matched providers, otherwise return children as-is
  return matchedProviders
    ? matchedProviders.reduceRight((wrapped, Provider) => <Provider>{wrapped}</Provider>, children)
    : children;
};
