import { useState } from 'react';
import { MultiSelect } from '@mantine/core';

function MultiSelectWithFreeText() {
  const [data, setData] = useState<string[]>(['React', 'Angular', 'Vue', 'Svelte']);
  const [value, setValue] = useState<string[]>([]);

  const handleCreate = (query: string) => {
    const item = query;
    setData((current) => [...current, item]);
    return item;
  };

  return (
    <MultiSelect
      label="Select technologies or add your own"
      data={data}
      value={value}
      onChange={setValue}
      searchable
      creatable
      getCreateLabel={(query) => `+ Create "${query}"`} // Custom label for creating new options
      onCreate={handleCreate} // Adds new options to the list
      placeholder="Pick or add technologies"
    />
  );
}

export default MultiSelectWithFreeText;
